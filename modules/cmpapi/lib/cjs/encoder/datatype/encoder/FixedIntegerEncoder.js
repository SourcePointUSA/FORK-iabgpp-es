"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedIntegerEncoder=void 0;const DecodingError_js_1=require("../../error/DecodingError.js");class FixedIntegerEncoder{static encode(e,r){let t=[];if(e>=1)for(t.push(1);e>=2*t[0];)t.unshift(2*t[0]);let o="";for(let r=0;r<t.length;r++){let n=t[r];e>=n?(o+="1",e-=n):o+="0"}for(;o.length<r;)o="0"+o;return o}static decode(e){if(!/^[0-1]*$/.test(e))throw new DecodingError_js_1.DecodingError("Undecodable FixedInteger '"+e+"'");let r=0,t=[];for(let r=0;r<e.length;r++)t[e.length-(r+1)]=0===r?1:2*t[e.length-r];for(let o=0;o<e.length;o++)"1"===e.charAt(o)&&(r+=t[o]);return r}}exports.FixedIntegerEncoder=FixedIntegerEncoder;